---
import AuroraAnimation from "../react/animation/AuroraAnimation.jsx";
import PerformanceAnimation from "../react/animation/PerformanceAnimation.jsx";
import { Target, BarChart3 } from "lucide-react";
---

<section id="model-performance" class="relative mt-64 mb-64 py-20 bg-black overflow-hidden">
  <!-- background blob -->
  <div class="absolute inset-0 -z-10">
    <div id="blob-1" class="absolute top-[-100px] left-[-200px] w-[600px] h-[600px] bg-blue-900/50 rounded-full blur-3xl"></div>
    <div id="blob-2" class="absolute bottom-[-150px] right-[-150px] w-[500px] h-[500px] bg-violet-800/40 rounded-full blur-3xl"></div>
    <div id="blob-3" class="absolute top-[20%] left-[40%] w-[300px] h-[300px] bg-sky-900/30 rounded-full blur-3xl"></div>
  </div>

  <!-- Animations -->
  <AuroraAnimation client:load />
  <PerformanceAnimation client:load />

  <div class="container relative max-w-5xl mx-auto px-6">
    <div class="text-center mb-16">
      <h2 class="text-3xl md:text-4xl font-bold text-white mb-2">
        Akurasi Prediksi Model
      </h2>
      <p class="text-gray-300 text-sm md:text-base max-w-2xl mx-auto">
        Kinerja model LSTM kami diukur menggunakan metrik standar untuk mengevaluasi tingkat kesalahan prediksi.
      </p>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
      <!-- RMSE -->
      <div class="metric-card relative overflow-hidden fx-border bg-white/5 border border-white/10 rounded-2xl p-6 text-center shadow-xl backdrop-blur-lg transition-all duration-300 hover:border-white/30 hover:-translate-y-1">
        <!-- Glow Runner -->
        <div class="glow-runner absolute inset-0 opacity-0 pointer-events-none">
          <div class="glow-line absolute w-full h-[2px] bg-gradient-to-r from-transparent via-blue-400 to-transparent top-0 left-0"></div>
          <div class="glow-line absolute w-[2px] h-full bg-gradient-to-b from-transparent via-blue-400 to-transparent top-0 right-0"></div>
          <div class="glow-line absolute w-full h-[2px] bg-gradient-to-l from-transparent via-blue-400 to-transparent bottom-0 right-0"></div>
          <div class="glow-line absolute w-[2px] h-full bg-gradient-to-t from-transparent via-blue-400 to-transparent bottom-0 left-0"></div>
        </div>
        
        <div class="flex items-center justify-center gap-2 mb-3">
          <Target className="metric-icon w-6 h-6 text-red-400" />
          <h3 class="text-lg font-semibold text-white">RMSE (Root Mean Square Error)</h3>
        </div>
        <p class="text-5xl font-bold text-blue-400 my-4">
          <span class="metric-value" data-value="14.9689">0.0000</span>
        </p>
        <p class="text-gray-400 text-sm">
          Rata-rata, prediksi kami meleset sekitar nilai ini. Metrik ini lebih sensitif terhadap kesalahan yang besar.
        </p>
      </div>

      <!-- MAE -->
      <div class="metric-card relative overflow-hidden fx-border bg-white/5 border border-white/10 rounded-2xl p-6 text-center shadow-xl backdrop-blur-lg transition-all duration-300 hover:border-white/30 hover:-translate-y-1">
        <!-- Glow Runner -->
        <div class="glow-runner absolute inset-0 opacity-0 pointer-events-none">
          <div class="glow-line absolute w-full h-[2px] bg-gradient-to-r from-transparent via-green-400 to-transparent top-0 left-0"></div>
          <div class="glow-line absolute w-[2px] h-full bg-gradient-to-b from-transparent via-green-400 to-transparent top-0 right-0"></div>
          <div class="glow-line absolute w-full h-[2px] bg-gradient-to-l from-transparent via-green-400 to-transparent bottom-0 right-0"></div>
          <div class="glow-line absolute w-[2px] h-full bg-gradient-to-t from-transparent via-green-400 to-transparent bottom-0 left-0"></div>
        </div>
        
        <div class="flex items-center justify-center gap-2 mb-3">
          <BarChart3 className="metric-icon w-6 h-6 text-green-400" />
          <h3 class="text-lg font-semibold text-white">MAE (Mean Absolute Error)</h3>
        </div>
        <p class="text-5xl font-bold text-blue-400 my-4">
          <span class="metric-value" data-value="8.1467">0.0000</span>
        </p>
        <p class="text-gray-400 text-sm">
          Ini adalah gambaran langsung dari rata-rata selisih absolut antara prediksi dan nilai sebenarnya.
        </p>
      </div>
    </div>
  </div>
</section>

<style>
  /* Glow Runner Animation */
  .glow-runner {
    border-radius: 16px;
  }
  
  .glow-line {
    filter: blur(1px);
    box-shadow: 0 0 10px currentColor;
  }
  
  .metric-card:hover .glow-runner {
    opacity: 1;
  }
  
  .metric-card:hover .glow-runner .glow-line:nth-child(1) {
    animation: glow-top 2s linear infinite;
  }
  
  .metric-card:hover .glow-runner .glow-line:nth-child(2) {
    animation: glow-right 2s linear infinite 0.5s;
  }
  
  .metric-card:hover .glow-runner .glow-line:nth-child(3) {
    animation: glow-bottom 2s linear infinite 1s;
  }
  
  .metric-card:hover .glow-runner .glow-line:nth-child(4) {
    animation: glow-left 2s linear infinite 1.5s;
  }
  
  @keyframes glow-top {
    0% { transform: translateX(-100%); }
    100% { transform: translateX(100%); }
  }
  
  @keyframes glow-right {
    0% { transform: translateY(-100%); }
    100% { transform: translateY(100%); }
  }
  
  @keyframes glow-bottom {
    0% { transform: translateX(100%); }
    100% { transform: translateX(-100%); }
  }
  
  @keyframes glow-left {
    0% { transform: translateY(100%); }
    100% { transform: translateY(-100%); }
  }
</style>
